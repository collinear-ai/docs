---
title: Trait Basis Simulations
description: Configure trait basis payloads for large-scale conversation generation.
---

The Trait Basis API samples personas by taking the Cartesian product of the axes you supply. Keep the structure tight and you can generate millions of consistent conversations without hand-written prompts.

## Trait Basis payload fields

| Key | Type | Notes |
| --- | --- | --- |
| `ages` | `list[int]` | Optional. Use integers. |
| `genders` | `list[str]` | Strings such as `"woman"`, `"man"`, `"non_binary"`. |
| `occupations` | `list[str]` | Any domain label that helps your reviewers interpret results. |
| `intents` | `list[str]` | Required. Tie these to business flows (e.g. `billing_dispute`). |
| `traits` | `dict[str, list[int]]` | Trait intensity range is **0–2**. Each list entry expands the grid. |
| `locations` | `list[str]` | ISO-style or internal geo labels. |
| `languages` | `list[str]` | ISO-639 or custom tokens (`"en"`, `"es"`). |
| `tasks` | `list[str]` | High-level scenario label, e.g. `"telecom_retention"`. |

Every combination produces one persona. With two traits at three intensity levels you already have nine persona variants; add more axes carefully to avoid unbounded growth.

## Minimal configuration

```python
trait_basis = {
    "ages": [24, 38, 57],
    "genders": ["woman", "man"],
    "occupations": ["support_manager", "field_technician"],
    "intents": ["billing_dispute", "cancel_service"],
    "traits": {
        "impatience": [0, 1, 2],
        "confusion": [0, 2],
    },
    "locations": ["united_states"],
    "languages": ["en"],
    "tasks": ["telecom_retention"],
}
```

## Running at scale with the SDK

```python
import os
from collinear.client import Client

client = Client(
    assistant_model_url=os.getenv("OPENAI_BASE_URL", "https://api.openai.com/v1"),
    assistant_model_api_key=os.environ["OPENAI_API_KEY"],
    assistant_model_name=os.getenv("OPENAI_ASSISTANT_MODEL", "gpt-4o-mini"),
    steer_api_key=os.environ["TRAIT_BASIS_API_KEY"],
)

conversations = client.simulate(
    trait_basis,
    k=500,              # Optional: sample subset instead of full Cartesian product
    num_exchanges=4,
    batch_delay=0.1,
    max_concurrency=4,  # Switches to Trait Basis batch endpoint when >1
)
```

### Tips

- **Start narrow.** Validate a small grid before expanding to millions of combinations.
- **Name traits clearly.** Reviewers should know what `impatience=2` means without a legend.
- **Cache configs.** Store JSON alongside your runs so you can replay identical grids later.
- **Batch responsibly.** Increase `max_concurrency` only after confirming your model endpoint quota.

### Trait availability

`client.simulation_runner.list_traits()` returns the Trait Basis catalog recognised by your key. If a run fails with “unknown trait”, inspect that list, adjust the payload, and retry.

### Next steps

- Use the [Quickstart](quickstart) for a copy-paste demo.
- Feed the same dataset into the [Collinear Platform API](/api-reference/endpoint/judge_conversation) when you need hosted scoring.
